"use strict";(self["webpackChunkict_itmo"]=self["webpackChunkict_itmo"]||[]).push([[1801],{1801:function(t,e,i){i.r(e),i.d(e,{default:function(){return E}});var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("draggable",{staticClass:"d-flex flex-wrap",attrs:{list:t.blocks}},t._l(t.blocks,(function(e){return s("v-col",{key:e.id,staticClass:"input-bordered mb-6 pa-0 pt-4",staticStyle:{"min-height":"60px"},attrs:{cols:"12",md:t.sizeBlock}},[6===t.sizeBlock||1!==e.type&&3!==e.type?t._e():s("div",{staticClass:"input-bordered-label eye-block app-background pa-0"},[s("v-btn",{attrs:{icon:"",small:""},on:{click:function(i){return t.eyeBlock(e)}}},[s("v-icon",[t._v(" mdi-eye-outline ")])],1)],1),6!==t.sizeBlock?s("div",{staticClass:"input-bordered-label delete-block app-background pa-0"},[s("v-btn",{attrs:{icon:"",small:""},on:{click:function(i){return t.deleteBlock(e.id)}}},[s("v-icon",[t._v(" mdi-trash-can-outline ")])],1)],1):t._e(),s("div",{staticClass:"input-bordered-label app-background pa-0"},[s("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on,n=i.attrs;return[s("div",t._g(t._b({staticClass:"input-border-0 input-blue px-2 py-1 d-flex justify-space-between",staticStyle:{width:"180px"}},"div",n,!1),a),[t._v(" "+t._s(t.getTextType(e))+" "),s("v-icon",{style:{transform:"true"===n["aria-expanded"]?"rotate(180deg)":""},attrs:{color:"#0071B2"}},[t._v(" mdi-chevron-down ")])],1)]}}],null,!0)},[s("v-list",{staticClass:"app-background"},[s("v-radio-group",{staticClass:"ma-0",attrs:{"hide-details":"",value:e.type,dark:"dark"===t.theme},on:{change:function(i){return t.changeTypeBlock(e.id,i)}}},t._l(t.typesInput,(function(t){return s("v-radio",{key:t.id,staticClass:"px-2",attrs:{value:t.id,label:t.text}})})),1)],1)],1)],1),0===e.type?s("vue-editor",{class:{custom:6!==t.sizeBlock},attrs:{"editor-toolbar":t.customToolbar,placeholder:"Введите текст"},model:{value:e.content.text,callback:function(i){t.$set(e.content,"text",i)},expression:"element.content.text"}}):t._e(),1===e.type?[s("div",{staticClass:"pt-8 px-4"},[s("DraggableInputs",{attrs:{blocks:e.content.blocks,"size-block":6},on:{updateProp:function(t){e.content.blocks=t}}})],1)]:t._e(),2===e.type?[s("v-text-field",{staticClass:"mx-6 my-2 input-light-blue",attrs:{placeholder:"Название картинки",outlined:"",dense:"",dark:"dark"===t.theme,"hide-details":""},model:{value:e.content.text,callback:function(i){t.$set(e.content,"text",i)},expression:"element.content.text"}}),s("div",{staticClass:"mx-6 pb-4"},[s("div",{staticClass:"d-flex"},[s("div",{staticClass:"input-file-container mx-auto",on:{dragover:function(t){t.preventDefault()},drop:function(t){t.preventDefault()}}},[s("input",{attrs:{id:"img-"+t.sizeBlock+"-"+e.id,type:"file"},on:{change:function(i){t.changeContentImgBlock(e.id,"img",i.target.files[0])}}}),s("label",{staticClass:"d-flex align-center justify-center py-6 px-12 text-center",attrs:{for:"img-"+t.sizeBlock+"-"+e.id},on:{drop:function(i){t.changeContentImgBlock(e.id,"img",i.dataTransfer.files[0])}}},[s("v-img",{staticStyle:{"z-index":"0"},attrs:{width:"80",height:"80",contain:"",src:i(2012)}}),t._v(" Выберите изображение или перетащите файл ")],1)])]),e.content.img?s("div",{staticClass:"text-center"},[t._v(" "+t._s(e.content.img.name)+" ")]):t._e()])]:t._e(),3===e.type?[s("v-text-field",{staticClass:"mx-6 my-2 input-light-blue",attrs:{placeholder:"Название слайдера",outlined:"",dense:"",dark:"dark"===t.theme,"hide-details":""},model:{value:e.content.text,callback:function(i){t.$set(e.content,"text",i)},expression:"element.content.text"}}),s("div",{staticClass:"mx-6 pb-4 d-flex flex-wrap"},[s("v-col",{staticClass:"input-file-container",attrs:{cols:6===t.sizeBlock||t.$vuetify.breakpoint.smAndDown?12:6},on:{dragover:function(t){t.preventDefault()},drop:function(t){t.preventDefault()}}},[s("input",{attrs:{id:"images-"+t.sizeBlock+"-"+e.id,type:"file",multiple:""},on:{change:function(i){t.changeContentImagesBlock(e.id,"images",e.content.images.concat(Array.from(i.target.files)))}}}),s("label",{staticClass:"d-flex align-center py-md-6 px-md-12 text-center",attrs:{for:"images-"+t.sizeBlock+"-"+e.id},on:{drop:function(i){t.changeContentImagesBlock(e.id,"images",e.content.images.concat(Array.from(i.dataTransfer.files)))}}},[s("span",[s("v-img",{staticStyle:{"z-index":"0"},attrs:{width:"80",height:"80",contain:"",src:i(2012)}})],1),t._v(" Выберите изображение или перетащите файл ")])]),e.content.images.length?s("v-col",{staticClass:"pl-6 py-0 d-flex flex-wrap align-start justify-space-between",attrs:{cols:6===t.sizeBlock||t.$vuetify.breakpoint.smAndDown?12:6}},[s("draggable",{staticClass:"d-flex flex-wrap",attrs:{list:e.content.images},on:{change:function(i){t.changeList(e.id,i)}}},t._l(e.content.images,(function(i,a){return s("v-col",{key:a,staticClass:"d-flex mt-2 pa-0",attrs:{cols:"12",md:"6"}},[s("div",[t._v(t._s(a+1)+".")]),s("div",{staticClass:"input-slider-img-block px-2 ml-2"},[t._v(" "+t._s(i.name)+" "),s("v-btn",{attrs:{icon:"","x-small":"",color:"#0071B2"},on:{click:function(i){return t.deleteContentImgBlock(e.id,a)}}},[s("v-icon",{attrs:{small:""}},[t._v(" mdi-close-circle-outline ")])],1)],1)])})),1)],1):t._e()],1)]:t._e(),4===e.type?s("div",[s("div",{staticClass:"ict-border-bottom"},[s("v-textarea",{staticClass:"input-border-0",attrs:{placeholder:"Введите цитату",outlined:"",dense:"",dark:"dark"===t.theme,"hide-details":""},model:{value:e.content.text,callback:function(i){t.$set(e.content,"text",i)},expression:"element.content.text"}})],1),s("v-text-field",{staticClass:"input-border-0",attrs:{placeholder:"Введите ФИО человека, должность",outlined:"",dense:"",dark:"dark"===t.theme,"hide-details":""},model:{value:e.content.author,callback:function(i){t.$set(e.content,"author",i)},expression:"element.content.author"}})],1):t._e(),5===e.type?s("v-text-field",{staticClass:"input-border-0",attrs:{placeholder:"Введите подзаголовок",outlined:"",dense:"",dark:"dark"===t.theme,"hide-details":""},model:{value:e.content.text,callback:function(i){t.$set(e.content,"text",i)},expression:"element.content.text"}}):t._e()],2)})),1)},a=[],n=i(629),o=i(9980),l=i.n(o),r=i(2739),c={name:"DraggableInputs",components:{draggable:l(),VueEditor:r.bR},props:{blocks:{type:Array,default:null},sizeBlock:{type:Number,default:12}},emits:["updateProp","changeDialog","changeDialogContent"],data:()=>({customToolbar:[{align:""},{align:"center"},{align:"justify"},{list:"ordered"},{list:"bullet"},"bold","italic","underline","link","clean"]}),computed:{typesInput(){return 6===this.sizeBlock?[{id:0,text:"Текстовый блок"},{id:2,text:"Изображение"},{id:3,text:"Слайдер"},{id:4,text:"Цитата"},{id:5,text:"Подзаголовок"}]:[{id:0,text:"Текстовый блок"},{id:1,text:"Два блока"},{id:2,text:"Изображение"},{id:3,text:"Слайдер"},{id:4,text:"Цитата"},{id:5,text:"Подзаголовок"}]},...(0,n.rn)("app",{theme:"theme"})},methods:{changeList(t,e){let i=this.blocks.find((e=>e.id===t)),s=i.content.imagesName.splice(e.moved.oldIndex,1)[0];i.content.imagesName.splice(e.moved.newIndex,0,s),this.changeBlocks(this.blocks.map((e=>e.id===t?i:e)))},eyeBlock(t){let e=JSON.parse(JSON.stringify(t));this.$emit("changeDialogContent",e),this.$emit("changeDialog",!0)},deleteBlock(t){let e=this.blocks.filter((e=>e.id!==t));this.changeBlocks(e)},changeContentImgBlock(t,e,i){let s=this.blocks.find((e=>e.id===t));if(s.content.img=i,i.type.match("image.*")){let t=new FileReader;t.onload=t=>{s.content.imgName=t.target.result},t.readAsDataURL(i)}this.changeBlocks(this.blocks.map((e=>e.id===t?s:e)))},changeContentImagesBlock(t,e,i){let s=this.blocks.find((e=>e.id===t));s.content.images=i,s.content.imagesName=[],i.forEach((t=>{if(t.type.match("image.*")){let e=new FileReader;e.onload=t=>{s.content.imagesName.push(t.target.result)},e.readAsDataURL(t)}})),this.changeBlocks(this.blocks.map((e=>e.id===t?s:e)))},deleteContentImgBlock(t,e){let i=this.blocks.find((e=>e.id===t));i.content.images.splice(e,1),i.content.imagesName.splice(e,1),this.changeBlocks(this.blocks.map((e=>e.id===t?i:e)))},changeBlocks(t){this.$emit("updateProp",t)},changeTypeBlock(t,e){let i=this.blocks.find((e=>e.id===t));switch(i.type=e,e){case 0:i.content={type:0,text:""};break;case 1:i.content={type:1,blocks:[{id:1e3,type:-1},{id:2e3,type:-1}]};break;case 2:i.content={type:2,img:null,imgName:"",text:""};break;case 3:i.content={type:3,images:[],imagesName:[],text:""};break;case 4:i.content={type:4,text:"",author:""};break;case 5:i.content={type:5,text:""};break;default:i.content={type:-1}}this.changeBlocks(this.blocks.map((e=>e.id===t?i:e)))},getTextType(t){const e=this.typesInput.find((e=>e.id===t.type));return e?e.text:"Выберите блок"}}},d=c,u=i(1001),p=i(3453),h=i.n(p),m=i(680),g=i(2102),f=i(6428),v=i(7047),b=i(6816),k=i(6768),x=i(5097),y=i(172),C=i(8230),I=i(6210),B=i(6952),w=i(7352),_=i(8115),Z=i(8085),$=i(7764),S=i(4589),z=i(3325),G=i(6290);const D=(0,z.Z)(I.Z,B.Z,_.Z,(0,w.d)("radioGroup"),Z.Z);var N=D.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){return $.Z.options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return C.Z.options.computed.computedId.call(this)},hasLabel:C.Z.options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||`radio-${this.radioGroup._uid}`},rippleState(){return $.Z.options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(t){return $.Z.options.methods.genInput.call(this,"radio",t)},genLabel(){return this.hasLabel?this.$createElement(x.Z,{on:{click:$.X},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},(0,S.z9)(this,"label")||this.label):null},genRadio(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(y.Z,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...e}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(t){const e={staticClass:"v-radio",class:this.classes,on:(0,G.bp)({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",e,[this.genRadio(),this.genLabel()])}}),T=(i(2245),i(4622));const R=(0,z.Z)(T.y,C.Z);var H=R.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...C.Z.options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},C.Z.options.methods.genDefaultSlot.call(this))},genInputSlot(){const t=C.Z.options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel(){const t=C.Z.options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:T.y.options.methods.onClick},render(t){const e=C.Z.options.render.call(this,t);return this._b(e.data,"div",this.attrs$),e}}),L=i(5978);const V=(0,z.Z)(L.Z);var F=V.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...L.Z.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick((()=>{var e;t?this.calculateInputHeight():null==(e=this.$refs.input)||e.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"},genInput(){const t=L.Z.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){L.Z.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),A=(0,u.Z)(d,s,a,!1,null,null,null),E=A.exports;h()(A,{VBtn:m.Z,VCol:g.Z,VIcon:f.Z,VImg:v.Z,VList:b.Z,VMenu:k.Z,VRadio:N,VRadioGroup:H,VTextField:L.Z,VTextarea:F})}}]);
//# sourceMappingURL=1801.2a76de59.js.map