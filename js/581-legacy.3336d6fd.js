"use strict";(self["webpackChunkict_itmo"]=self["webpackChunkict_itmo"]||[]).push([[581],{54133:function(t,e,i){i.r(e),i.d(e,{default:function(){return b}});var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("div",{staticClass:"pb-2 pb-md-4 text-h6 text-md-h5"},[t._v(" Мероприятия ")]),t.isPreview?o("div",[o("BaseNews",{staticClass:"mt-16",attrs:{data:t.previewData}}),o("BaseButtonOutlined",{attrs:{text:"Назад","click-btn":!0},on:{clickBtnCallback:function(e){t.isPreview=!1}}})],1):o("div",[o("div",{staticClass:"input-bordered mb-6"},[o("v-text-field",{staticClass:"input-border-0 text-h6 input-blue font-weight-bold",attrs:{placeholder:"Название",outlined:"",dense:"",dark:"dark"===t.theme,"hide-details":""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),o("div",{staticClass:"input-bordered mb-6 py-6"},[o("div",{staticClass:"input-bordered-label app-background"},[t._v(" Обложка мероприятия "),o("span",{staticClass:"error--text"},[t._v("*")])]),o("div",{staticClass:"input-file-container mx-auto",on:{dragover:function(t){t.preventDefault()},drop:function(t){t.preventDefault()}}},[o("input",{attrs:{id:"cover",type:"file"},on:{change:function(e){t.beforeCrop("cover",t.coverSizes[t.$route.params.id],"Обложка мероприятия",e.target.files[0])}}}),o("label",{staticClass:"d-flex align-center py-6 px-12 text-center",attrs:{for:"cover"},on:{drop:function(e){t.beforeCrop("cover",t.coverSizes[t.$route.params.id],"Обложка мероприятия",e.dataTransfer.files[0])}}},[o("v-img",{staticStyle:{"z-index":"0"},attrs:{width:"80",height:"80",src:i(42012)}}),t._v(" Выберите изображение обложки или перетащите файл"),o("br"),t._v(" Размер "+t._s(t.getCoverSize())+" ")],1)]),t.form.cover?o("div",{staticClass:"text-center"},[t._v(" "+t._s(t.form.cover.name)+" ")]):t._e()]),o("DraggableInputs",{attrs:{blocks:t.form.blocks},on:{changeDialogContent:t.changeDialogContent,changeDialog:t.changeDialog,updateProp:t.updateProp,beforeCropInsert:t.beforeCropInsert}}),o("div",{staticClass:"px-0 subtitle-color",staticStyle:{cursor:"pointer",width:"fit-content"},on:{click:t.addBlock}},[o("v-icon",{attrs:{color:"#0071B2"}},[t._v(" mdi-plus-circle-outline ")]),t._v(" Добавить поле ")],1),o("v-row",{staticClass:"pt-4"},[o("v-col",{attrs:{cols:"12",md:"3"}},[o("div",{staticClass:"pl-4 subtitle-color text-body-2",staticStyle:{opacity:"0.7"}},[t._v(" Дата начала мероприятия"),o("span",{staticClass:"error--text"},[t._v("*")])]),o("v-text-field",{staticClass:"search-input",attrs:{type:"date",outlined:"",dense:"",dark:"dark"===t.theme,color:"dark"===t.theme?"#00A1FF":"#005A8E","hide-details":""},model:{value:t.form.dateStart,callback:function(e){t.$set(t.form,"dateStart",e)},expression:"form.dateStart"}})],1),o("v-col",{attrs:{cols:"12",md:"3"}},[o("div",{staticClass:"pl-4 subtitle-color text-body-2",staticStyle:{opacity:"0.7"}},[t._v(" Дата конца мероприятия ")]),o("v-text-field",{staticClass:"search-input",attrs:{type:"date",outlined:"",dense:"",dark:"dark"===t.theme,color:"dark"===t.theme?"#00A1FF":"#005A8E","hide-details":""},model:{value:t.form.dateEnd,callback:function(e){t.$set(t.form,"dateEnd",e)},expression:"form.dateEnd"}})],1),o("v-col",{attrs:{cols:"12",md:"2"}},[o("div",{staticClass:"pl-4 subtitle-color text-body-2",staticStyle:{opacity:"0.7"}},[t._v(" Время начала ")]),o("v-text-field",{staticClass:"search-input",attrs:{type:"time",outlined:"",dense:"",dark:"dark"===t.theme,color:"dark"===t.theme?"#00A1FF":"#005A8E","hide-details":""},model:{value:t.form.timeStart,callback:function(e){t.$set(t.form,"timeStart",e)},expression:"form.timeStart"}})],1)],1),o("div",{staticClass:"d-flex pt-6"},[o("BaseButton",{attrs:{text:"Опубликовать","click-btn":!0},on:{clickBtnCallback:t.publish}}),o("BaseButtonOutlined",{staticClass:"ml-4",attrs:{text:"Предпросмотр","click-btn":!0},on:{clickBtnCallback:t.preview}})],1)],1),o("DialogPreviewComponent",{attrs:{dialog:t.dialog,"dialog-content":t.dialogContent},on:{changeDialog:t.changeDialog,beforeCropInsert:t.beforeCropInsert}}),o("DialogCroppieComponent",{attrs:{dialog:t.dialogCroppie,title:t.dialogCroppieOptions.title,size:t.dialogCroppieOptions.size,"data-img":t.dialogCroppieDataImg,"enable-resize":t.dialogCroppieOptions.enableResize},on:{changeDialog:t.changeDialogCroppie,changeCroppie:t.changeCroppie}})],1)},a=[],n=(i(41539),i(78783),i(33948),i(38862),i(69826),i(20629)),r=i(22100),s={name:"HackathonCompetition",components:{DialogCroppieComponent:function(){return Promise.all([i.e(2681),i.e(3548),i.e(5706)]).then(i.bind(i,48404))},DialogPreviewComponent:function(){return Promise.all([i.e(680),i.e(2681),i.e(3548),i.e(5920)]).then(i.bind(i,71288))},BaseNews:function(){return i.e(4828).then(i.bind(i,64828))},DraggableInputs:function(){return Promise.all([i.e(680),i.e(2681),i.e(6999),i.e(779),i.e(4634),i.e(8894)]).then(i.bind(i,94634))},BaseButtonOutlined:function(){return i.e(2149).then(i.bind(i,2149))},BaseButton:function(){return i.e(1992).then(i.bind(i,1992))}},mixins:[r.Z],data:function(){return{coverSizes:[{w:400,h:400},{w:300,h:190},{w:190,h:190},{w:190,h:190},{w:190,h:190},{w:190,h:190},{w:300,h:190}],dialog:!1,dialogContent:{},isPreview:!1,previewData:{},form:{name:"",dateStart:null,dateEnd:null,timeStart:null,cover:null,coverCroppie:null,blocks:[{id:0,type:-1,content:null}]}}},computed:(0,n.rn)("app",["theme"]),methods:{getCoverSize:function(){return this.coverSizes[this.$route.params.id].w+"*"+this.coverSizes[this.$route.params.id].h+"px"},changeDialog:function(t){this.dialog=t},changeDialogContent:function(t){this.form=JSON.parse(JSON.stringify(this.form)),this.dialogContent=this.form.blocks.find((function(e){return e.id===t.id}))},addBlock:function(){this.form.blocks.push({id:this.count,type:-1,content:null}),this.count++},publish:function(){console.log(this.form)},preview:function(){this.previewData=this.form,this.isPreview=!0},updateProp:function(t){this.form.blocks=t}}},l=s,c=i(1001),d=i(43453),p=i.n(d),u=i(82102),m=i(99846),f=i(96428),h=i(97047),v=i(62877),g=i(55978),C=(0,c.Z)(l,o,a,!1,null,null,null),b=C.exports;p()(C,{VCol:u.Z,VContainer:m.Z,VIcon:f.Z,VImg:h.Z,VRow:v.Z,VTextField:g.Z})}}]);
//# sourceMappingURL=581-legacy.3336d6fd.js.map