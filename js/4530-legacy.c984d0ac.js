"use strict";(self["webpackChunkict_itmo"]=self["webpackChunkict_itmo"]||[]).push([[4530],{40561:function(t,e,i){var a=i(82109),o=i(17854),s=i(51400),n=i(19303),l=i(26244),r=i(47908),c=i(65417),d=i(86135),m=i(81194),u=m("splice"),p=o.TypeError,f=Math.max,h=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var i,a,o,m,u,b,C=r(this),x=l(C),k=s(t,x),y=arguments.length;if(0===y?i=a=0:1===y?(i=0,a=x-k):(i=y-2,a=h(f(n(e),0),x-k)),x+i-a>g)throw p(v);for(o=c(C,a),m=0;m<a;m++)u=k+m,u in C&&d(o,m,C[u]);if(o.length=a,i<a){for(m=k;m<x-a;m++)u=m+a,b=m+i,u in C?C[b]=C[u]:delete C[b];for(m=x;m>x-a+i;m--)delete C[m-1]}else if(i>a)for(m=x-a;m>k;m--)u=m+a-1,b=m+i-1,u in C?C[b]=C[u]:delete C[b];for(m=0;m<i;m++)C[m+k]=arguments[m+2];return C.length=x-a+i,o}})},8371:function(t,e,i){i.r(e),i.d(e,{default:function(){return w}});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"pb-2 pb-md-4 text-h6 text-md-h5"},[t._v(" Статьи ")]),t.isPreview?a("div",[a("v-row",{staticClass:"d-flex align-stretch justify-center pt-xl-8"},[a("v-col",{staticClass:"text-center d-md-none"},[a("div",{staticClass:"text-h5 text-sm-h4"},[t._v(" "+t._s(t.form.name)+" ")])]),a("v-col",{staticClass:"d-flex flex-column justify-space-around order-2 order-md-0 ",class:t.$vuetify.breakpoint.smAndDown?"text-center":"",attrs:{cols:"12",md:"6",lg:"5"}},[a("div",[a("div",{staticClass:"pb-8 text-h4 text-xl-h3 d-none d-md-block"},[t._v(" "+t._s(t.form.name)+" ")]),a("div",{staticClass:"text-subtitle-1 pb-6",domProps:{innerHTML:t._s(t.form.description)}})]),a("div",{staticClass:"mx-auto mx-md-0"},[a("BaseButton2",{attrs:{link:"/"}})],1)]),a("v-col",{attrs:{cols:"12",md:"6",lg:"7"}},[a("CarouselComponent",{attrs:{slider:t.form.sliderImagesNames,columns:1},scopedSlots:t._u([{key:"item",fn:function(e){return[a("v-col",{attrs:{cols:"12"}},[a("div",[a("v-img",{attrs:{width:"100%",height:t.$vuetify.breakpoint.xs?200:t.$vuetify.breakpoint.xl?600:400,cover:"",src:e.item}})],1)])]}}])})],1)],1),a("BaseNews",{staticClass:"mt-16",attrs:{data:t.previewData}}),a("BaseButtonOutlined",{attrs:{text:"Назад","click-btn":!0},on:{clickBtnCallback:function(e){t.isPreview=!1}}})],1):a("div",[a("div",{staticClass:"input-bordered mb-6"},[a("v-text-field",{staticClass:"input-border-0 text-h6 input-blue font-weight-bold",attrs:{placeholder:"Название",outlined:"",dense:"",dark:"dark"===t.theme,"hide-details":""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("div",{staticClass:"input-bordered mb-6 pt-3"},[a("div",{staticClass:"input-bordered-label app-background"},[t._v(" Описание статьи "),a("span",{staticClass:"error--text"},[t._v("*")])]),a("vue-editor",{staticClass:"custom",attrs:{"editor-toolbar":t.customToolbar,placeholder:"Введите текст"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("div",{staticClass:"input-bordered mb-6 pt-3"},[a("div",{staticClass:"input-bordered-label app-background"},[t._v(" Слайдер обложка "),a("span",{staticClass:"error--text"},[t._v("*")])]),a("v-text-field",{staticClass:"mx-6 my-2 input-light-blue",attrs:{placeholder:"Название слайдера",outlined:"",dense:"",dark:"dark"===t.theme,"hide-details":""},model:{value:t.form.sliderText,callback:function(e){t.$set(t.form,"sliderText",e)},expression:"form.sliderText"}}),a("div",{staticClass:"mx-6 pb-4 d-flex flex-wrap"},[a("v-col",{staticClass:"input-file-container",attrs:{cols:t.$vuetify.breakpoint.smAndDown?12:6},on:{dragover:function(t){t.preventDefault()},drop:function(t){t.preventDefault()}}},[a("input",{attrs:{id:"slider",type:"file",multiple:""},on:{change:function(e){t.changeContentImagesBlock(t.form.slider.concat(Array.from(e.target.files)))}}}),a("label",{staticClass:"d-flex align-center py-md-6 px-md-12 text-center",attrs:{for:"slider"},on:{drop:function(e){t.changeContentImagesBlock(t.form.slider.concat(Array.from(e.dataTransfer.files)))}}},[a("span",[a("v-img",{staticStyle:{"z-index":"0"},attrs:{width:"80",height:"80",contain:"",src:i(42012)}})],1),t._v(" Выберите изображение или перетащите файл ")])]),t.form.slider.length?a("v-col",{staticClass:"pl-6 py-0 d-flex flex-wrap align-start justify-space-between",attrs:{cols:t.$vuetify.breakpoint.smAndDown?12:6}},[a("draggable",{staticClass:"d-flex flex-wrap",attrs:{list:t.form.slider},on:{change:function(e){t.changeList(e)}}},t._l(t.form.slider,(function(e,i){return a("v-col",{key:i,staticClass:"d-flex mt-2 pa-0",attrs:{cols:"12",md:"6"}},[a("div",{staticClass:"pl-1"},[t._v(" "+t._s(i+1)+". ")]),a("div",{staticClass:"input-slider-img-block px-2 ml-2"},[t._v(" "+t._s(e.name)+" "),a("v-btn",{attrs:{icon:"","x-small":"",color:"#0071B2"},on:{click:function(e){return t.deleteContentImgBlock(i)}}},[a("v-icon",{attrs:{small:""}},[t._v(" mdi-close-circle-outline ")])],1)],1)])})),1)],1):t._e()],1)],1),a("DraggableInputs",{attrs:{blocks:t.form.blocks},on:{changeDialogContent:t.changeDialogContent,changeDialog:t.changeDialog,updateProp:t.updateProp,beforeCropInsert:t.beforeCropInsert}}),a("div",{staticClass:"px-0 subtitle-color",staticStyle:{cursor:"pointer",width:"fit-content"},on:{click:t.addBlock}},[a("v-icon",{attrs:{color:"#0071B2"}},[t._v(" mdi-plus-circle-outline ")]),t._v(" Добавить поле ")],1),a("v-row",{staticClass:"pt-4"},[a("v-col",{attrs:{cols:"12",md:"3"}},[a("div",{staticClass:"pl-4 subtitle-color text-body-2",staticStyle:{opacity:"0.7"}},[t._v(" Дата начала мероприятия"),a("span",{staticClass:"error--text"},[t._v("*")])]),a("v-text-field",{staticClass:"search-input",attrs:{type:"date",outlined:"",dense:"",dark:"dark"===t.theme,color:"dark"===t.theme?"#00A1FF":"#005A8E","hide-details":""},model:{value:t.form.dateStart,callback:function(e){t.$set(t.form,"dateStart",e)},expression:"form.dateStart"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("div",{staticClass:"pl-4 subtitle-color text-body-2",staticStyle:{opacity:"0.7"}},[t._v(" Дата конца мероприятия ")]),a("v-text-field",{staticClass:"search-input",attrs:{type:"date",outlined:"",dense:"",dark:"dark"===t.theme,color:"dark"===t.theme?"#00A1FF":"#005A8E","hide-details":""},model:{value:t.form.dateEnd,callback:function(e){t.$set(t.form,"dateEnd",e)},expression:"form.dateEnd"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("div",{staticClass:"pl-4 subtitle-color text-body-2",staticStyle:{opacity:"0.7"}},[t._v(" Время начала ")]),a("v-text-field",{staticClass:"search-input",attrs:{type:"time",outlined:"",dense:"",dark:"dark"===t.theme,color:"dark"===t.theme?"#00A1FF":"#005A8E","hide-details":""},model:{value:t.form.timeStart,callback:function(e){t.$set(t.form,"timeStart",e)},expression:"form.timeStart"}})],1)],1),a("div",{staticClass:"d-flex pt-6"},[a("BaseButton",{attrs:{text:"Опубликовать","click-btn":!0},on:{clickBtnCallback:t.publish}}),a("BaseButtonOutlined",{staticClass:"ml-4",attrs:{text:"Предпросмотр","click-btn":!0},on:{clickBtnCallback:t.preview}})],1)],1),a("DialogPreviewComponent",{attrs:{dialog:t.dialog,"dialog-content":t.dialogContent},on:{changeDialog:t.changeDialog,beforeCropInsert:t.beforeCropInsert}}),a("DialogCroppieComponent",{attrs:{dialog:t.dialogCroppie,title:t.dialogCroppieOptions.title,size:t.dialogCroppieOptions.size,"data-img":t.dialogCroppieDataImg,"enable-resize":t.dialogCroppieOptions.enableResize},on:{changeDialog:t.changeDialogCroppie,changeCroppie:t.changeCroppie}})],1)},o=[],s=(i(41539),i(78783),i(33948),i(38862),i(69826),i(54747),i(74916),i(4723),i(40561),i(20629)),n=i(2739),l=i(9980),r=i.n(l),c=i(22100),d={name:"HackathonCompetition",components:{VueEditor:n.bR,draggable:r(),DialogCroppieComponent:function(){return Promise.all([i.e(2681),i.e(3548),i.e(2624)]).then(i.bind(i,48404))},CarouselComponent:function(){return Promise.all([i.e(5640),i.e(955)]).then(i.bind(i,95640))},DialogPreviewComponent:function(){return Promise.all([i.e(2681),i.e(3548),i.e(1844)]).then(i.bind(i,71288))},BaseNews:function(){return i.e(4828).then(i.bind(i,64828))},DraggableInputs:function(){return Promise.all([i.e(2681),i.e(6999),i.e(4634),i.e(8032)]).then(i.bind(i,94634))},BaseButtonOutlined:function(){return i.e(2149).then(i.bind(i,2149))},BaseButton:function(){return i.e(1992).then(i.bind(i,1992))},BaseButton2:function(){return i.e(7625).then(i.bind(i,37625))}},mixins:[c.Z],data:function(){return{customToolbar:[{align:""},{align:"center"},{align:"justify"},{list:"ordered"},{list:"bullet"},"bold","italic","underline","link","clean"],dialog:!1,dialogContent:{},isPreview:!1,previewData:{},form:{name:"",description:"",dateStart:null,dateEnd:null,timeStart:null,slider:[],sliderImagesNames:[],sliderText:"",blocks:[{id:0,type:-1,content:null}]}}},computed:(0,s.rn)("app",["theme"]),methods:{changeDialog:function(t){this.dialog=t},changeDialogContent:function(t){this.form=JSON.parse(JSON.stringify(this.form)),this.dialogContent=this.form.blocks.find((function(e){return e.id===t.id}))},addBlock:function(){this.form.blocks.push({id:this.count,type:-1,content:null}),this.count++},publish:function(){console.log(this.form)},preview:function(){this.previewData=this.form,this.isPreview=!0},updateProp:function(t){this.form.blocks=t},changeContentImagesBlock:function(t){var e=this;this.form.sliderImagesNames=[],t.forEach((function(t){if(t.type.match("image.*")){var i=new FileReader;i.onload=function(t){e.form.sliderImagesNames.push(t.target.result)},i.readAsDataURL(t)}})),this.form.slider=t},deleteContentImgBlock:function(t){this.form.slider.splice(t,1),this.form.sliderImagesNames.splice(t,1)},changeList:function(t){var e=this.form.sliderImagesNames.splice(t.moved.oldIndex,1)[0];this.form.sliderImagesNames.splice(t.moved.newIndex,0,e)}}},m=d,u=i(1001),p=i(43453),f=i.n(p),h=i(680),g=i(82102),v=i(99846),b=i(96428),C=i(97047),x=i(62877),k=i(55978),y=(0,u.Z)(m,a,o,!1,null,null,null),w=y.exports;f()(y,{VBtn:h.Z,VCol:g.Z,VContainer:v.Z,VIcon:b.Z,VImg:C.Z,VRow:x.Z,VTextField:k.Z})}}]);
//# sourceMappingURL=4530-legacy.c984d0ac.js.map